
<fieldset>

    <div class="control" ng-class="{ 'has-error': userForm.refnum.$dirty || userForm.refnum.$error.pattern }">
        <label class=" col-sm-2">Reference Number</label>
        <input type="text" name="refnum" id="refnum" class="textfeildname yellow" ng-pattern="/^[a-zA-Z0-9]*$/" ng-model="formAdminData.referencenumber"  ng-init="formAdminData.referencenumber=''" />
        <p ng-show="userForm.referencenumber.$dirty && userForm.referencenumber.$error.pattern" class="help-block" style="margin: auto;width: 55%;padding: 10px;">Please enter valid reference number.</p>
    </div>
    <div class="control">
        <label class=" col-sm-2">User Type</label>
        <select  name="usertype" ng-model="formAdminData.usertype" class="textfeildname yellow arrowupdown"  style="width:27%; -moz-appearance: none;-webkit-appearance: none;appearance:none;" ng-options="usertype for usertype in usertypeArray">
            <option value="">--Select--</option> <!-- not selected / blank option -->
        </select>
    </div>
    <div class="control" ng-class="{ 'has-error': userForm.firstname.$dirty || userForm.firstname.$error.pattern }">
        <label class=" col-sm-2">First Name</label>
        <input type="text"  name="firstname" value="" ng-pattern="/^[a-zA-Z]*$/" class="textfeildname yellow" ng-model="formAdminData.firstname"/>
        <p ng-show="userForm.firstname.$dirty && userForm.firstname.$error.pattern" class="help-block" style="margin: auto;width: 55%;padding: 10px;">Please enter valid firstname.</p>
    </div>
    <div class="control"  ng-class="{ 'has-error': userForm.lastname.$dirty || userForm.lastname.$error.pattern }">
        <label class=" col-sm-2">Last Name</label>
        <input type="text"  name="lastname" value="" ng-pattern="/^[a-zA-Z]*$/" class="textfeildname yellow" ng-model="formAdminData.lastname"/>
        <p ng-show="userForm.lastname.$dirty && userForm.lastname.$error.pattern" class="help-block" style="margin: auto;width: 55%;padding: 10px;">Please enter valid lastname.</p>
    </div>
    <div class="control" ng-class="{ 'has-error': userForm.country.$dirty || userForm.country.$error.pattern }">
        <label class=" col-sm-2">Country</label>
        <input type="text"  name="country" value="" ng-pattern="/^[a-zA-Z]*$/" class="textfeildname yellow" ng-model="formAdminData.country"/>
        <p ng-show="userForm.country.$dirty && userForm.country.$error.pattern" class="help-block" style="margin: auto;width: 55%;padding: 10px;">Please enter valid country name.</p>

    </div>
    <div class="control">
        <label class=" col-sm-2">Status</label>
        <select  name="state" ng-model="formAdminData.surveystatus" class="textfeildname yellow arrowupdown"  style="width:27%; -moz-appearance: none;-webkit-appearance: none;appearance:none;" ng-options="status for status in statusArray">
            <option value="">--Select--</option> <!-- not selected / blank option -->
        </select>
    </div>
    </br>
    <div class="col-xs-6 col-xs-offset-3">
        <a  ng-click="clearall()" class="btn btn-block btn-info" style="width: 40%">
            <span class="glyphicon glyphicon-circle-arrow-left"></span>Clear All
        </a>
    </div>

    <div class="col-xs-6 col-xs-offset-3 col-xs-7">

        <a class="btn btn-block btn-info" ng-disabled="userForm.$invalid" ng-click="searchheartkid()"  style="width: 40%">
            Search  <span class="glyphicon glyphicon-circle-arrow-right"></span>
        </a></br>
    </div>
    <!--
    <div class="col-xs-6 col-xs-offset-3 col-xs-7">

        <a ui-sref="" class="btn btn-block btn-info" ng-click="searchheartkid()" style="margin-top:5%;margin-left: 80%;width: 30%;">
            Search  <span class="glyphicon glyphicon-circle-arrow-right"></span>
        </a></br>
    </div>-->
</fieldset>
<!--<div class="control">
    <label class=" col-sm-2">Search User</label>
    <input type="text"  name="Search" value="" class="textfeildname yellow" ng-model="search" placeholder="Search"/>
</div>-->
<div class="errormessage" style="margin-left:5%;color:#ff2514;"><b>{{ErrorMessage}}</b></div>
<p style="color: red;">{{deleteMessage}}</p>
</br>

<div class="table-responsive" id="exportable" ng-show="searchHeartKid">
    <table class="table table-striped table-bordered" style="width: 92%;margin-left: 4%;">
        <tr class="info">
            <th ng-click="sort('id')">Id
                <span class="glyphicon sort-icon" ng-show="sortKey=='id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            <th ng-click="sort('referencenumber')">Reference No
                <span class="glyphicon sort-icon" ng-show="sortKey=='referencenumber'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            </th>
            <th ng-click="sort('firstname')">First Name
                <span class="glyphicon sort-icon" ng-show="sortKey=='firstname'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            </th>
            <th ng-click="sort('lastname')">Last Name
                <span class="glyphicon sort-icon" ng-show="sortKey=='lastname'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            </th>
            <th ng-click="sort('usertype')">User Type
                <span class="glyphicon sort-icon" ng-show="sortKey=='usertype'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            </th>
            <th ng-click="sort('surveystatus')">Status
                <span class="glyphicon sort-icon" ng-show="sortKey=='surveystatus'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            </th>
            <th ng-show="admin">
            </th>
            <th ng-show="admin">
            </th>
        </tr>

        <tr dir-paginate="a in searchusers|orderBy:sortKey:reverse|filter:search|itemsPerPage:20">
            <td>{{$index+1}}</td>
            <td>{{a.referencenumber}}</td>
            <td>{{a.firstname}}</td>
            <td>{{a.lastname}}</td>
            <td>{{a.usertype}}</td>
            <td>{{a.surveystatus}}</td>
            <td ng-show="admin"><a class="btn btn-xs btn-primary modifybutton" ng-click="getuserdetails(a.id)" ><span class="glyphicon glyphicon-pencil "></span> Edit</a></td>
            <td ng-show="admin"><a class="btn btn-xs btn-danger modifybutton" ng-click="deleteuser($index,a.referencenumber)"><span class="glyphicon glyphicon-remove "></span> Delete</a></td>
            <!--<td><button class="btn btn-primary" style="margin-left: 13%; width: 70px;" ng-click="modifyuser(a)">Edit</button></td>
       --> </tr>
    </table>
    <dir-pagination-controls style="float: right;margin-right: 5%;"
                             max-size="30"
                             direction-links="true"
                             boundary-links="true">
    </dir-pagination-controls>


</div>
<button ng-show="searchHeartKid" class="btn btn-danger" style="    margin-bottom: 5%;margin-left: 40%; " ng-click="exportData()">Export to Excel</button>
<style>

    .modifybutton {
        width: 84%;
        margin-left: 11%;
        margin-top: 10%;
    }

</style>





<fieldset ng-show="edituserdetailshow" id="edituser">
    <div class="container">
        <h4 style="color: #0044cc; margin-left: 2%">Manage User Details</h4>
        <ul class="nav nav-tabs">
            <li  class="active"><a href="#">Personal Info</a></li>
            <li><a href="#">Disease Quantification</a></li>
            <li><a href="#">Burden of Disease</a></li>
            <li><a href="#">Burden of Disease -2</a></li>
            <li><a href="#">Out of Hospital Care</a></li>
        </ul>
    </div>



    <!-- Select Basic -->
    <div class="row" >
        <br>

        <div class="col-xs-row">
            <div class="form-group">
                <label for="firstname">Firstname</label>
                <input type="text" class="form-control" ng-model="formData.firstname"  placeholder="">
            </div>
            <div class="form-group">
                <label for="sex">Sex</label>

                <select  name="sexselect" ng-model="formData.sex" class="form-control arrowupdown"  style=" moz-appearance: none;-webkit-appearance: none;appearance:none;" ng-options="sex for sex in sexArray">
                    <option value="">--Select--</option> <!-- not selected / blank option -->
                </select>
            </div>
        </div>
        <div class="col-xs-row">
            <div class="form-group">
                <label for="lastname">Last Name</label>
                <input type="text" class="form-control"  placeholder="" ng-model="formData.lastname">
            </div>
            <div class="form-group">
                <label for="password">DOB</label>
                <input type="dob" class="form-control"  placeholder="" ng-model="formData.birthdate">
            </div>
        </div>

        <div class="col-xs-row">
            <div class="form-group">
                <label for="state">State</label>
                <select  name="stateselct" ng-model="formData.state" class="form-control arrowupdown"  style=" moz-appearance: none;-webkit-appearance: none;appearance:none;" ng-options="state for state in statelistArray">
                    <option value="">--Select--</option> <!-- not selected / blank option -->
                </select>
            </div>
            <div class="form-group">
                <label for="postcode">Postcode</label>
                <input type="text" class="form-control" ng-model="formData.postcode" placeholder="">
            </div>

        </div>
        <div class="col-xs-row">
            <div class="form-group">
                <label for="lastname">Country of Birth</label>

                <select  name="countrybirth" ng-model="formData.countrybirth" class="form-control arrowupdown"  style=" moz-appearance: none;-webkit-appearance: none;appearance:none;" ng-options="country for country in lstofcountryArray">
                    <option value="">--Select--</option> <!-- not selected / blank option -->
                </select>
            </div>
            <div class="form-group">
                <label for="ethnicity">Ethnicity</label>
                <input type="text" class="form-control" ng-model="formData.ethnicity" placeholder="">

            </div>

        </div>
        <div class="col-xs-row">
            <div class="form-group">
                <label for="email">eMail</label>
                <input type="email" class="form-control" placeholder="" ng-model="formData.email">
            </div>
            <div class="form-group">
                <label for="language">Language Spoken</label>
                <input type="text" class="form-control"  placeholder="" ng-model="formData.language">
            </div>

        </div>

        <div class="col-xs-row">
            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" class="form-control"  placeholder="" ng-model="formData.phone">
            </div>
            <div class="form-group">
                <label for="state">User Type</label>
                <select  name="usertype" ng-model="formData.usertype" class="form-control arrowupdown"  style=" moz-appearance: none;-webkit-appearance: none;appearance:none;" ng-options="usertype for usertype in usertypeArray">
                    <option value="">--Select--</option> <!-- not selected / blank option -->
                </select>
            </div>

        </div>

    </div>
    <br>
    <div style="margin-left: 29%">
        <div class="col-xs-6 col-xs-offset-3" style="width: 30%">
            <a class="btn btn-block btn-danger btn-mini">
                <span class="glyphicon glyphicon-remove"></span>  Cancel
            </a>
        </div>
        <div class="col-xs-6 col-xs-offset-3 col-xs-7" style="width: 30%;">
            <a class="btn btn-block btn-success btn-mini" style="margin-top: 0%;">
                Save  <span class="glyphicon glyphicon-ok-circle"></span>
            </a></br>
        </div></div>
</fieldset>

<style>
    .col-xs-row {
        width: 42%;
        margin-left: 5%;
        float: left;
    }
</style>